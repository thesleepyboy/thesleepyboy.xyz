---
import Layout from "../layouts/Layout.astro"
import Window from "../components/Window.astro"
import Header from "../components/Header.astro"
import MinimizedWindow from "../components/MinimizedWindow.astro"
import Footer from "../components/Footer.astro"
import Button from "../components/Button.astro"

const buttons = [
    {href: "/", text: "go home"}
]

const response = await fetch("https://api.github.com/users/thesleepyboy");
const data = await response.json();
---
<Layout>
    <Header>GitHub (profile)</Header>
    <Window
        title="GitHub (profile)"
		buttons={buttons}
    >
        <div class="flex items-center p-10 gap-1.5" slot="content">
            <img class="max-h-40 max-w-40" src={data.avatar_url} alt="github profile picture">
            <div class="flex flex-col">
                <b>{data.name}</b>
                <i>{data.bio}</i>
                <span><b>public repos: </b>{data.public_repos}</span>
                <span><b>joined at: </b>{new Date(data.created_at).toDateString()}</span>
                
                <Button
                    href="https://github.com/thesleepyboy"
                    text="go to profile"
                />
            </div>
        </div>
    </Window>
    <Footer>
		<div class="flex gap-2.5">
			<MinimizedWindow
				title="Home"
				goToPage="/"
			/>
			<MinimizedWindow
				title="Projects"
				goToPage="/projects"
			/>
		</div>
	</Footer>
</Layout>